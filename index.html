<!--
File: index.html
Progetto: Barzellette di Tutti Noi ðŸ˜‚
Descrizione: Single-file web app (HTML/CSS/JS) per leggere e scrivere barzellette.
Livello: Adatto a un quasi-principiante. Tutti i passaggi sono spiegati in italiano tramite commenti.

Istruzioni rapide:
1. Copia questo intero file in un nuovo file chiamato `index.html`.
2. Aprilo con un browser (doppio click o trascina nel browser) per eseguirlo in locale.
3. Per pubblicarlo online gratuitamente: puoi usare Glitch, Netlify o Vercel (vedi la sezione "COME PUBBLICARE" alla fine del file).

FunzionalitÃ  incluse:
- Visualizzare lista di barzellette
- Aggiungere nuova barzelletta (autore, testo)
- Mi piace (like) locale per ogni barzelletta
- Ordinamento per recenti o piÃ¹ popolari
- Salvataggio persistente tramite localStorage
- Esportare / importare JSON delle barzellette
- Interfaccia responsiva (mobile-friendly)

Modifiche facili: cerca le costanti nella sezione JS (CONFIG) per cambiare il titolo, colore, ecc.
-->

<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Barzellette di Tutti Noi ðŸ˜‚</title>
  <meta name="description" content="Leggi e condividi barzellette con la community - semplice e gratuito">
  <style>
    /* ====== Stili base e responsive (facili da leggere e modificare) ====== */
    :root{
      --bg: #0f1724; /* sfondo scuro */
      --card: #0b1220;
      --accent: #ffcc00; /* colore principale */
      --muted: #98a0aa;
      --glass: rgba(255,255,255,0.03);
      --radius: 12px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    html,body{height:100%;}
    body{
      margin:0; padding:20px; background: linear-gradient(180deg,var(--bg),#071024); color:#e6eef8; -webkit-font-smoothing:antialiased;
      display:flex; align-items:flex-start; justify-content:center; box-sizing:border-box;
    }
    .container{width:100%; max-width:980px;}
    header{display:flex; gap:16px; align-items:center; margin-bottom:18px}
    .brand{display:flex; gap:12px; align-items:center}
    .logo{width:56px; height:56px; border-radius:12px; background:linear-gradient(135deg,var(--accent),#ff8a00); display:flex; align-items:center; justify-content:center; color:#071024; font-weight:700}
    h1{margin:0; font-size:20px}
    p.lead{margin:0; color:var(--muted); font-size:13px}
    .layout{display:grid; grid-template-columns: 1fr 360px; gap:18px}
    @media (max-width:880px){ .layout{grid-template-columns:1fr} .aside{order:2} }

    /* Card */
    .card{background:var(--card); padding:14px; border-radius:var(--radius); box-shadow: 0 6px 18px rgba(2,6,23,0.6)}

    /* Form */
    form label{display:block; font-size:13px; color:var(--muted); margin-bottom:6px}
    input[type=text], textarea{width:100%; padding:10px; border-radius:8px; border:1px solid rgba(255,255,255,0.04); background:var(--glass); color:inherit; box-sizing:border-box}
    textarea{min-height:100px; resize:vertical}
    .btn{display:inline-block; padding:10px 14px; border-radius:10px; background:var(--accent); color:#071024; font-weight:600; cursor:pointer; border:none}
    .btn.ghost{background:transparent; color:var(--accent); border:1px solid rgba(255,204,0,0.12)}

    /* Lista barzellette */
    .joke{padding:12px; border-radius:10px; margin-bottom:10px; background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent); display:flex; gap:12px}
    .joke .meta{font-size:12px; color:var(--muted)}
    .joke .text{white-space:pre-wrap; font-size:15px}
    .controls{display:flex; gap:8px; align-items:center}
    .like{display:inline-flex; align-items:center; gap:6px; padding:6px 8px; border-radius:8px; background:rgba(255,255,255,0.02); cursor:pointer}

    /* Utilities */
    .row{display:flex; gap:10px; align-items:center}
    .spacer{flex:1}
    .small{font-size:13px}
    .muted{color:var(--muted)}

    footer{margin-top:16px; color:var(--muted); font-size:13px}

    /* import/export area */
    .file-input{display:flex; gap:8px; align-items:center}

  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">B</div>
        <div>
          <h1>Barzellette di Tutti Noi ðŸ˜‚</h1>
          <p class="lead">Leggi, condividi e fai ridere la community â€” semplice e veloce.</p>
        </div>
      </div>
      <div class="spacer"></div>
      <div class="small muted">Salvate localmente â€¢ Prova su telefono</div>
    </header>

    <div class="layout">
      <!-- Main: lista barzellette -->
      <main>
        <div class="card">
          <div class="row" style="margin-bottom:12px;">
            <div style="display:flex; gap:8px; align-items:center;">
              <label for="sort" class="small muted">Ordina:</label>
              <select id="sort" class="small" aria-label="Ordina barzellette">
                <option value="recent">PiÃ¹ recenti</option>
                <option value="popular">PiÃ¹ popolari</option>
              </select>
            </div>
            <div class="spacer"></div>
            <div class="small muted">Totale: <span id="count">0</span></div>
          </div>

          <div id="list"></div>

          <div id="empty" class="muted small" style="padding:12px">Nessuna barzelletta ancora. Diventa il primo a scriverne una!</div>
        </div>

        <footer>
          <div class="card" style="margin-top:12px">
            <strong>Info:</strong>
            <p class="muted small">Questa demo salva le barzellette nel tuo browser (localStorage). Nessun server esterno Ã¨ usato per default. Se vuoi salvarle online, ti spiegherÃ² come collegare Firebase o un backend semplice.</p>
          </div>
        </footer>
      </main>

      <!-- Aside: form e strumenti -->
      <aside class="aside">
        <div class="card">
          <h3>Aggiungi una barzelletta</h3>
          <form id="jokeForm">
            <label for="author">Il tuo nome (opzionale)</label>
            <input id="author" type="text" placeholder="es. Marco" maxlength="50">

            <label for="text">La barzelletta</label>
            <textarea id="text" placeholder="Scrivi qui la barzelletta..." required maxlength="1000"></textarea>

            <div style="margin-top:10px; display:flex; gap:8px;">
              <button class="btn" type="submit">Pubblica</button>
              <button type="button" id="clearForm" class="btn ghost">Pulisci</button>
            </div>
          </form>
        </div>

        <div class="card" style="margin-top:12px">
          <h4>Strumenti</h4>
          <div style="display:flex; flex-direction:column; gap:8px">
            <button id="exportBtn" class="btn ghost">Esporta JSON</button>
            <div class="file-input">
              <input id="importFile" type="file" accept="application/json">
              <button id="importBtn" class="btn">Importa JSON</button>
            </div>
            <button id="resetBtn" class="btn ghost">Reset locale</button>
          </div>
        </div>

      </aside>
    </div>
  </div>
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-app.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyDt8JXts1hHnuf-hfO1lDw5U4P0HI6PHMI",
    authDomain: "barzellette-95e78.firebaseapp.com",
    projectId: "barzellette-95e78",
    storageBucket: "barzellette-95e78.firebasestorage.app",
    messagingSenderId: "818177949989",
    appId: "1:818177949989:web:1328f2212e12f60e7edacc"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
</script>
</body>
</html>
